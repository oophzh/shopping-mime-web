"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","bootsnav","common"],function(t,r,i,e,l,a){function d(r){var i=[],e={};e.label=t.i18n.map.OrderNumber+":",e.value=r.orderId,i.push(e),e={},e.label=t.i18n.map.OrderDate+":",e.value=a.util.formatOrderDateTime(r.crTime),i.push(e),r.shippingAddr&&(e={},e.label=t.i18n.map.ShippedTo+":",e.value=r.shippingAddr.recFirstname+" "+r.shippingAddr.recLastname+"("+r.shippingAddr.streetAddr+" "+r.shippingAddr.extendAddr+" "+r.shippingAddr.city+","+r.shippingAddr.province+" "+r.shippingAddr.postCode+","+r.shippingAddr.fullCountry+")",i.push(e),e={},e.label="",e.value=t.i18n.map.PhoneNumberlabel+": "+r.shippingAddr.telephone,i.push(e)),r.billAddr&&(e={},e.label=t.i18n.map.BilledTo+":",e.value=r.billAddr.recFirstname+" "+r.billAddr.recLastname+"("+r.billAddr.streetAddr+" "+r.billAddr.extendAddr+" "+r.billAddr.city+","+r.billAddr.province+" "+r.billAddr.postCode+","+r.billAddr.fullCountry+")",i.push(e),e={},e.label="",e.value=t.i18n.map.PhoneNumberlabel+": "+r.billAddr.telephone,i.push(e)),e={},e.label=t.i18n.map.OrderStatus+":",0==r.paymentStatus?r.paymentStatusString=t.i18n.map.OrderStatusPendding:1==r.paymentStatus||5==r.paymentStatus||10==r.paymentStatus?r.paymentStatusString=t.i18n.map.OrderStatusSuccess:3==r.paymentStatus?r.paymentStatusString=t.i18n.map.OrderStatusDelay:r.paymentStatusString=t.i18n.map.OrderStatusFail,e.value=r.paymentStatusString,i.push(e),t("#order_info").html(t("#orderInfoTempl").tmpl(i))}a.initLoginStatus();var s=a.util.getQueryString("id");console.log("order_detail.js---id= "+s),function(r){a.dao.getOrderDetail({orderId:r},function(r){var i=a.util.getCurrencySymbol(r.correncyCode);i||(i=a.util.getCurrencySymbol(a.util.getLocalCurrency()));for(var e=r.spCart,l=0;l<e.length;l++){var s=e[l];s.displayImg=a.util.picUrl+s.displayImg,s.productPrice=a.util.formatProductPrice(s.productPrice,i)}if(t("#cart_list").html(t("#cartTempl").tmpl(e)),r.gifts&&r.gifts.length>0){for(var l=0;l<r.gifts.length;l++){var n=r.gifts[l];n.imgName=a.util.picUrl+n.imgName,n.total=a.util.formatProductPrice(0,i)}t("#gift_list").html(t("#giftTempl").tmpl(r.gifts))}d(r);for(var o=r.orderDisInfos,l=0;l<o.length;l++){var m=o[l];m.disCost<0?m.disCost="-"+a.util.formatProductPrice(-m.disCost,i):m.disCost=a.util.formatProductPrice(m.disCost,i)}t("#dis_info_list").html(t("#disInfoTempl").tmpl(o)),t("#cart_total").html(a.util.formatProductPrice(r.totalCost,i)),1==r.mdis.enabled?(t("#sub_total").html(a.util.formatProductPrice(r.realCost,i)),t("#sub_total_wrap").removeClass("hide"),t("#mdis_title").text(r.mdis.mDisLable),t("#mdis_value").text(r.mdis.mDisVal),t("#m_dis_wrap").removeClass("hide"),t("#grand_total").html(r.mdis.totalAfterMDis)):t("#grand_total").html(a.util.formatProductPrice(r.realCost,i))})}(s)});